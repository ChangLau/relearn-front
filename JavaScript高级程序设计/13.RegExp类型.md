# åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼

##### å­—é¢é‡å½¢å¼åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼

```JavaScript
var expression = / pattern / flags
// patternï¼š è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼
// flagsï¼š è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ¨¡å¼
```

##### ä½¿ç”¨ RegExp æ„é€ å‡½æ•°

æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯åŒ¹é…çš„å­—ç¬¦ä¸²æ¨¡å¼ï¼Œä¸€ä¸ªæ˜¯å¯é€‰çš„åŒ¹é…æ¨¡å¼ã€‚

```JavaScript
// åŒ¹é…ç¬¬ä¸€ä¸ªâ€œbatâ€æˆ–â€œcatâ€ï¼Œä¸åŒºåˆ†å¤§å°å†™
var pattern1 = /[bc]at/i
// ä¸pattern1ç›¸åŒï¼Œåªä¸è¿‡åˆ›å»ºæ–¹å¼ä¸åŒ
var pattern2 = new RegExp("[bc]at", "i")
```

**æ³¨æ„**

ç”±äº RegExp æ„é€ å‡½æ•°çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æŸäº›æƒ…å†µä¸‹éœ€è¦å¯¹å­—ç¬¦ä¸²è¿›è¡ŒåŒé‡è½¬ä¹‰ï¼Œæ‰€æœ‰å…ƒå­—ç¬¦éƒ½å¿…é¡»è¿›è¡ŒåŒé‡è½¬ä¹‰ã€‚å¦‚ä¸‹ ğŸŒ°ã€‚

```JavaScript
var patter1 = /\[bc\]at/
patter1.test('bcat') // false
patter1.test('[bc]at') // true

var pattern2 = new RegExp("\\[bc\\]at")
pattern2.test("[bc]at") // true
pattern2.test("bcat") // false
```

| å­—é¢é‡æ¨¡å¼         | ç­‰ä»·çš„å­—ç¬¦ä¸²        |
| ------------------ | ------------------- |
| `/\[bc\]at/`       | `\\[bc\\]at`        |
| `/\.at/`           | `\\.at`             |
| `/name\/age/`      | `name\\/age`        |
| `/\d.\d{1,2}`      | `\\d.\\d{1,2}`      |
| `/\w\\hello\\123/` | `\\w\\\hello\\\123` |

# 3 ç§åŒ¹é…æ¨¡å¼

- gï¼šå…¨å±€åŒ¹é…ï¼Œæ¨¡å¼åº”ç”¨äºæ‰€æœ‰å­—ç¬¦ä¸²ï¼Œè€Œéåœ¨åŒ¹é…åˆ°ç¬¬ä¸€é¡¹æ—¶ç«‹å³åœæ­¢
- iï¼šä¸åŒºåˆ†å¤§å°å†™æ¨¡å¼ã€‚
- mï¼šå¤šè¡Œæ¨¡å¼ã€‚

```JavaScript
// åŒ¹é…å­—ç¬¦ä¸²ä¸­æ‰€æœ‰â€œatâ€
var pattern1 = /at/g
// åŒ¹é…ç¬¬ä¸€ä¸ªâ€œbatâ€æˆ–â€œcatâ€ï¼Œä¸åŒºåˆ†å¤§å°å†™
var pattern2 = /[bc]at/i
// åŒ¹é…æ‰€æœ‰ä»¥â€œatâ€ç»“å°¾çš„3ä¸ªå­—ç¬¦çš„ç»“åˆï¼Œä¸åŒºåˆ†å¤§å°å†™
var pattern3 = /.at/gi
```

# å…ƒå­—ç¬¦

æ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦åŒ…æ‹¬

```JavaScript
( [ { \ ^ $ | ) ? * + . ] }
```

å…ƒå­—ç¬¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­éƒ½æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹æ®Šç”¨é€”ï¼Œå¦‚æœéœ€è¦åŒ¹é…å…ƒå­—ç¬¦ï¼Œéœ€è¦å¯¹å®ƒä»¬è¿›è¡Œè½¬ä¹‰ã€‚

```JavaScript
// åŒ¹é…ç¬¬ä¸€ä¸ªâ€œbatâ€æˆ–â€œcatâ€ï¼Œä¸åŒºåˆ†å¤§å°å†™
var pattern1 = /[bc]at/i
// åŒ¹é…ç¬¬ä¸€ä¸ªâ€œ[bc]atâ€ï¼Œä¸åŒºåˆ†å¤§å°å†™
var pattern2 = /\[bc\]at/i
// åŒ¹é…æ‰€æœ‰ä»¥â€œatâ€ç»“å°¾çš„3ä¸ªå­—ç¬¦çš„ç»“åˆï¼Œä¸åŒºåˆ†å¤§å°å†™
var pattern3 = /.at/gi
// åŒ¹é…æ‰€æœ‰â€œ.at"ï¼Œä¸åŒºåˆ†å¤§å°å†™
var pattern4 = /\.at/gi
```

# RegExp çš„å®ä¾‹å±æ€§

- globalï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† g æ ‡å¿—
- ignoreCaseï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† i æ ‡å¿—
- lastIndexï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹çš„å­—ç¬¦ä½ç½®ï¼Œä» 0 ç®—èµ·
- multilineï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† m æ ‡å¿—
- sourceï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²è¡¨ç¤º

```JavaScript
var pattern = /\[bc\]at/
console.log(pattern.global); // false
console.log(pattern.ignoreCase) // false
console.log(pattern.lastIndex) // 0
console.log(pattern.multiline) // false
console.log(pattern.source) // \[bc\]at
```

# RegExp çš„å®ä¾‹æ–¹æ³•

##### exec

exec ä¸“ä¸ºæ•è·ç»„è€Œè®¾è®¡ã€‚è¿”å›åŒ¹é…çš„æ•°ç»„ä¿¡æ¯ï¼Œç¬¬ä¸€é¡¹ä¸æ•´ä¸ªæ¨¡å¼åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå…¶ä»–é¡¹æ˜¯ä¸æ¨¡å¼ä¸­æ•è·ç»„åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚

```JavaScript
var text = "mom and dad and baby"
var pattern = /mom( and dad( and baby)?)?/gi
var matches = pattern.exec(text)
console.log(matches); // ["mom and dad and baby", " and dad and baby", " and baby", index: 0, input: "mom and dad and baby", groups: undefined]
```

éæ•è·ç»„ä½¿ç”¨

éå…¨å±€æ¨¡å¼ï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹

```JavaScript
var text = "cat, bat, sat, fat"
var pattern1 = /.at/
var matches = pattern1.exec(text)
console.log(matches); // ["cat", index: 0, input: "cat, bat, sat, fat", groups: undefined]
// å†æ¬¡è°ƒç”¨
var matches = pattern1.exec(text)
console.log(matches); // ["cat", index: 0, input: "cat, bat, sat, fat", groups: undefined]
```

å…¨å±€æ¨¡å¼ï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½è¿”å›ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹

```JavaScript
var text = "cat, bat, sat, fat"
var pattern1 = /.at/g
var matches = pattern1.exec(text)
console.log(matches); // ["cat", index: 0, input: "cat, bat, sat, fat", groups: undefined]
// å†æ¬¡è°ƒç”¨
var matches = pattern1.exec(text)
console.log(matches); // ["bat", index: 5, input: "cat, bat, sat, fat", groups: undefined]
```
